<app-navbar></app-navbar>
<div class="container" style="margin-top:30px">
    <div class="row">
        <div class="col">
            <span class="alert alert-warning" role="alert">
                <b>Dashboard on :</b> {{monthYear}}
            </span>
        </div>
    </div>
    <div class="row" style="margin-top:30px">
        <div class="col-6">
            <h2><b>Add Income</b></h2>
            <form [formGroup]="dataForm" (ngSubmit)="onSubmit()">
               
                <div class="form-group">
                    <label for="source" style="color: coral;font-weight: 900;">Income From</label>
                    <input type="text" class="form-control" id="source" formControlName="source" [ngClass]="{ 'is-invalid': submitted && dval.source.errors }">
                    <div *ngIf="submitted && dval.source.errors" class="invalid-feedback">
                        <div *ngIf="dval.source.errors.required">
                            Name is required
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="amount" style="color: coral;font-weight: 900;">Amount</label>
                    <input type="text" class="form-control" id="amount" formControlName="amount" [ngClass]="{ 'is-invalid': submitted && dval.amount.errors }">
                    <div *ngIf="submitted && dval.amount.errors" class="invalid-feedback">
                        <div *ngIf="dval.amount.errors.required">
                            Amount is required
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="dp" style="color: coral;font-weight: 900;">Select Date</label><br>
                    <div class="input-group">
                        <input class="form-control" placeholder="yyyy-mm-dd"
                        id="dp" ngbDatepicker #d="ngbDatepicker" formControlName="dp" [minDate]= currentStart [maxDate]="currentEnd" [ngModel]="month" [ngClass]="{ 'is-invalid': submitted && dval.dp.errors }">
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary calendar" (click)="d.toggle()" type="button"><i class="fa fa-calendar" aria-hidden="true"></i></button>
                        </div>
                        <div *ngIf="submitted && dval.dp.errors" class="invalid-feedback">
                            <div *ngIf="dval.dp.errors.required">
                                Date is required
                            </div>
                        </div>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary" *ngIf="is_account_closed == false">Submit</button>
                <span *ngIf="is_account_closed == true" class="alert alert-danger"><b>Account has been closed..!!</b></span>
            </form>
        </div>
    </div>
</div>
